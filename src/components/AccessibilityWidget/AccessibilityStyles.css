/* AccessibilityStyles.css */

/* All @import statements must be at the very top */
@import url('https://fonts.googleapis.com/css2?family=OpenDyslexic&display=swap');

/* =============================================================================
   DARK MODE CONTRAST IMPLEMENTATION
   ============================================================================= */

/* Dark Mode - Main Implementation */
.accessibility-contrast-dark {
  background-color: #1a1a1a !important;
  color: #e8e8e8 !important;
}

/* Dark Mode - Override ALL child elements but exclude navbar, header, footer */
.accessibility-contrast-dark *:not(nav):not(header):not(footer):not(.navbar):not(.header):not(.footer):not([class*="nav"]):not([class*="header"]):not([class*="footer"]) {
  background-color: inherit !important;
  color: inherit !important;
}

/* Dark Mode - Navbar/Header stays ORIGINAL colors */
.accessibility-contrast-dark nav,
.accessibility-contrast-dark header,
.accessibility-contrast-dark .navbar,
.accessibility-contrast-dark .header,
.accessibility-contrast-dark [class*="nav"]:not([class*="main"]):not([class*="content"]),
.accessibility-contrast-dark [class*="header"]:not([class*="main"]):not([class*="content"]),
.accessibility-contrast-dark [role="navigation"],
.accessibility-contrast-dark [role="banner"] {
  background-color: #F5EFE0 !important; /* Keep ORIGINAL navbar color */
  color: #333333 !important; /* Dark text for readability */
  border-color: #ddd !important;
}

/* Dark Mode - Footer stays ORIGINAL colors */
.accessibility-contrast-dark footer,
.accessibility-contrast-dark .footer,
.accessibility-contrast-dark [class*="footer"] {
  background-color: #cccffe !important; /* Keep ORIGINAL footer color */
  color: #333333 !important; /* Dark text for readability */
  border-color: #aaa !important;
}

/* Dark Mode - Navbar/Footer links maintain proper contrast */
.accessibility-contrast-dark nav a,
.accessibility-contrast-dark header a,
.accessibility-contrast-dark footer a,
.accessibility-contrast-dark .navbar a,
.accessibility-contrast-dark .header a,
.accessibility-contrast-dark .footer a {
  color: #d41367 !important; /* Original cranberry color */
}

.accessibility-contrast-dark nav a:hover,
.accessibility-contrast-dark header a:hover,
.accessibility-contrast-dark footer a:hover,
.accessibility-contrast-dark .navbar a:hover,
.accessibility-contrast-dark .header a:hover,
.accessibility-contrast-dark .footer a:hover {
  color: #b8115a !important; /* Darker cranberry for hover */
}

/* Dark Mode - Links */
.accessibility-contrast-dark a:not(.accessibility-widget a) {
  color: #ff6b9d !important; /* Brighter version of #d41367 for better contrast */
  text-decoration: none !important;
}

.accessibility-contrast-dark a:hover:not(.accessibility-widget a),
.accessibility-contrast-dark a:focus:not(.accessibility-widget a) {
  color: #ff8fb3 !important; /* Lighter hover state */
  text-decoration: underline !important;
}

/* Dark Mode - Card/Panel Elements */
.accessibility-contrast-dark .card,
.accessibility-contrast-dark .panel,
.accessibility-contrast-dark .section {
  background-color: #2a2a2a !important;
  border-color: #404040 !important;
  color: #e8e8e8 !important;
}

/* Dark Mode - Form Elements */
.accessibility-contrast-dark input:not(.accessibility-widget input),
.accessibility-contrast-dark textarea:not(.accessibility-widget textarea),
.accessibility-contrast-dark select:not(.accessibility-widget select) {
  background-color: #333333 !important;
  color: #e8e8e8 !important;
  border-color: #555555 !important;
}

.accessibility-contrast-dark input:focus:not(.accessibility-widget input),
.accessibility-contrast-dark textarea:focus:not(.accessibility-widget textarea),
.accessibility-contrast-dark select:focus:not(.accessibility-widget select) {
  border-color: #ff6b9d !important; /* Using the bright cranberry for focus */
  box-shadow: 0 0 0 2px rgba(255, 107, 157, 0.2) !important;
}

/* Dark Mode - Buttons */
.accessibility-contrast-dark button:not(.accessibility-widget button),
.accessibility-contrast-dark .btn:not(.accessibility-widget .btn) {
  background-color: #ff6b9d !important; /* Bright cranberry */
  color: #ffffff !important;
  border-color: #ff6b9d !important;
}

.accessibility-contrast-dark button:hover:not(.accessibility-widget button),
.accessibility-contrast-dark .btn:hover:not(.accessibility-widget .btn) {
  background-color: #ff8fb3 !important;
  border-color: #ff8fb3 !important;
}

/* Dark Mode - Tables */
.accessibility-contrast-dark table:not(.accessibility-widget table) {
  background-color: #2a2a2a !important;
  color: #e8e8e8 !important;
}

.accessibility-contrast-dark th:not(.accessibility-widget th),
.accessibility-contrast-dark td:not(.accessibility-widget td) {
  border-color: #404040 !important;
  background-color: inherit !important;
}

.accessibility-contrast-dark th:not(.accessibility-widget th) {
  background-color: #333333 !important;
  color: #e8e8e8 !important;
}

/* Dark Mode - Code Elements */
.accessibility-contrast-dark code:not(.accessibility-widget code),
.accessibility-contrast-dark pre:not(.accessibility-widget pre) {
  background-color: #1e1e1e !important;
  color: #f8f8f2 !important;
  border-color: #404040 !important;
}

/* =============================================================================
   LIGHT MODE CONTRAST IMPLEMENTATION
   ============================================================================= */

.accessibility-contrast-light {
  background-color: #ffffff !important;
  color: #000000 !important;
}

.accessibility-contrast-light * {
  background-color: inherit !important;
  color: inherit !important;
}

.accessibility-contrast-light a:not(.accessibility-widget a) {
  color: #b8115a !important; /* Darker version of cranberry for better contrast */
}

/* =============================================================================
   INVERT MODE CONTRAST IMPLEMENTATION
   ============================================================================= */

.accessibility-contrast-invert {
  filter: invert(1) hue-rotate(180deg) !important;
}

.accessibility-contrast-invert img:not(.accessibility-widget img) {
  filter: invert(1) hue-rotate(180deg) !important; /* Re-invert images */
}

/* =============================================================================
   TEXT SCALING IMPLEMENTATION
   ============================================================================= */

.accessibility-text-scale-2 {
  font-size: 112.5% !important; /* 18px base instead of 16px */
}

.accessibility-text-scale-2 * {
  font-size: inherit !important;
}

.accessibility-text-scale-3 {
  font-size: 125% !important; /* 20px base */
}

.accessibility-text-scale-3 * {
  font-size: inherit !important;
}

.accessibility-text-scale-4 {
  font-size: 150% !important; /* 24px base */
}

.accessibility-text-scale-4 * {
  font-size: inherit !important;
}

/* =============================================================================
   FONT TYPE IMPLEMENTATIONS
   ============================================================================= */

.accessibility-font-dyslexia * {
  font-family: 'OpenDyslexic', monospace !important;
}

.accessibility-font-legible * {
  font-family: 'Arial', 'Helvetica', sans-serif !important;
  font-weight: 600 !important;
  letter-spacing: 0.5px !important;
}

/* =============================================================================
   TEXT SPACING AND LINE HEIGHT
   ============================================================================= */

.accessibility-letter-spacing * {
  letter-spacing: var(--accessibility-letter-spacing, normal) !important;
}

.accessibility-line-height * {
  line-height: var(--accessibility-line-height, 1.5) !important;
}

.accessibility-text-align * {
  text-align: var(--accessibility-text-align, left) !important;
}

/* =============================================================================
   CURSOR IMPLEMENTATIONS
   ============================================================================= */

.accessibility-cursor-big,
.accessibility-cursor-big * {
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 32 32"><path d="M2 2 l8 20 l4 -4 l8 8 l2 -2 l-8 -8 l4 -4 Z" fill="black"/></svg>'), auto !important;
}

.accessibility-cursor-reading-guide {
  cursor: none !important;
}

.accessibility-cursor-reading-guide::before {
  content: '';
  position: fixed;
  top: var(--mouse-y, 0px);
  left: 0;
  width: 100vw;
  height: 2px;
  background-color: #ff6b9d;
  pointer-events: none;
  z-index: 9999;
  transform: translateY(-1px);
}

.accessibility-cursor-reading-mask {
  cursor: none !important;
}

.accessibility-cursor-reading-mask::after {
  content: '';
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: 
    linear-gradient(
      rgba(0,0,0,0.8) 0%,
      rgba(0,0,0,0.8) calc(var(--mouse-y, 50vh) - 20px),
      transparent calc(var(--mouse-y, 50vh) - 20px),
      transparent calc(var(--mouse-y, 50vh) + 20px),
      rgba(0,0,0,0.8) calc(var(--mouse-y, 50vh) + 20px),
      rgba(0,0,0,0.8) 100%
    );
  pointer-events: none;
  z-index: 9998;
}

/* =============================================================================
   SATURATION IMPLEMENTATIONS
   ============================================================================= */

.accessibility-saturation-low {
  filter: saturate(0.5) !important;
}

.accessibility-saturation-heavy {
  filter: saturate(2) !important;
}

.accessibility-saturation-desaturate {
  filter: grayscale(1) !important;
}

/* =============================================================================
   INTERACTIVE FEATURES
   ============================================================================= */

/* Link Highlighting */
.accessibility-highlight-links a:not(.accessibility-widget a) {
  background-color: rgba(255, 107, 157, 0.2) !important; /* Cranberry highlight */
  padding: 2px 4px !important;
  border-radius: 3px !important;
  border: 1px solid #ff6b9d !important;
}

/* Pause Animations */
.accessibility-pause-animations * {
  animation-duration: 0.01ms !important;
  animation-iteration-count: 1 !important;
  transition-duration: 0.01ms !important;
  scroll-behavior: auto !important;
}

/* Hide Images */
.accessibility-hide-images img:not(.accessibility-widget img),
.accessibility-hide-images picture:not(.accessibility-widget picture),
.accessibility-hide-images svg:not(.accessibility-widget svg):not([role="button"]):not([role="link"]) {
  opacity: 0.1 !important;
  filter: grayscale(1) !important;
}

.accessibility-hide-images img:not(.accessibility-widget img)::after,
.accessibility-hide-images picture:not(.accessibility-widget picture)::after {
  content: 'Image Hidden';
  position: absolute;
  background: rgba(0,0,0,0.7);
  color: white;
  padding: 4px 8px;
  font-size: 12px;
  border-radius: 3px;
}

/* Enhanced Tooltips */
.accessibility-tooltips [title]:hover::after,
.accessibility-tooltips [aria-label]:hover::after,
.accessibility-tooltips [data-tooltip]:hover::after {
  content: attr(title) attr(aria-label) attr(data-tooltip);
  position: absolute;
  bottom: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: #333;
  color: white;
  padding: 8px 12px;
  border-radius: 6px;
  font-size: 14px;
  white-space: nowrap;
  z-index: 10000;
  box-shadow: 0 4px 12px rgba(0,0,0,0.3);
}

/* =============================================================================
   FOCUS ENHANCEMENTS
   ============================================================================= */

.accessibility-contrast-dark *:focus:not(.accessibility-widget *:focus),
.accessibility-contrast-light *:focus:not(.accessibility-widget *:focus),
*:focus:not(.accessibility-widget *:focus) {
  outline: 3px solid #ff6b9d !important; /* Cranberry focus outline */
  outline-offset: 2px !important;
}

/* =============================================================================
   RESPONSIVE DESIGN
   ============================================================================= */

@media (max-width: 768px) {
  .accessibility-text-scale-2 {
    font-size: 110% !important;
  }
  
  .accessibility-text-scale-3 {
    font-size: 118% !important;
  }
  
  .accessibility-text-scale-4 {
    font-size: 130% !important;
  }
}

/* =============================================================================
   ACCESSIBILITY WIDGET PROTECTION
   ============================================================================= */

/* Ensure the accessibility widget itself is never affected by its own styles */
.accessibility-widget,
.accessibility-widget * {
  font-family: system-ui, -apple-system, sans-serif !important;
  font-size: 14px !important;
  line-height: 1.4 !important;
  letter-spacing: normal !important;
  text-align: left !important;
  filter: none !important;
  background: white !important;
  color: black !important;
}